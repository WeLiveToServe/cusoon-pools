---
import Base from "../../layouts/Base.astro";
import { blogPosts } from "../../data/blog";
import { compareIsoDateDesc, formatLongDate } from "../../lib/dates";

const sortedPosts = [...blogPosts].sort((a, b) => compareIsoDateDesc(a.date, b.date));
---
<Base
  title="Pool Care Blog | Cusoon Pools"
  description="Pool care tips, maintenance checklists, and repair insights for Exeter, NH pool owners."
  canonical="https://cusoon-pools.com/blog/"
>
  <section class="py-16">
    <div class="container">
      <p class="text-xs uppercase tracking-[0.4em] text-sea">Blog</p>
      <h1 class="mt-3 font-display text-4xl sm:text-5xl">Pool care insights from the Cusoon team.</h1>
      <p class="mt-4 max-w-2xl text-lg text-ink/70">
        Maintenance tips, seasonal guides, and equipment advice designed for pools in Exeter and the Seacoast.
      </p>
      <ol class="mt-12 divide-y divide-sand overflow-hidden rounded-3xl border border-sand bg-white shadow-lift">
        {sortedPosts.map((post) => (
          <li>
            <a
              href={`/blog/${post.slug}`}
              class="group block px-6 py-6 transition hover:bg-sand/40 sm:px-8"
            >
              <div class="flex flex-col gap-2 sm:flex-row sm:items-baseline sm:justify-between">
                <p class="text-xs uppercase tracking-[0.2em] text-ink/50">{formatLongDate(post.date)}</p>
                <span class="hidden text-sm font-semibold uppercase tracking-[0.2em] text-sea group-hover:text-ink sm:inline">
                  Read &rarr;
                </span>
              </div>
              <h2 class="mt-2 font-display text-2xl text-ink group-hover:text-sea transition">{post.title}</h2>
              <p class="mt-2 max-w-3xl text-ink/70">{post.excerpt}</p>
            </a>
          </li>
        ))}
      </ol>
    </div>
  </section>
</Base>
